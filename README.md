# Steam Cross-Platform Wishlist

Chrome extension that adds Switch/PlayStation/Xbox/Steam Deck availability icons and How Long To Beat completion times to your Steam wishlist. Uses Wikidata for console platforms, Steam's own data for Steam Deck, and HowLongToBeat.com for game length estimates.

## What it does

You're browsing your Steam wishlist wondering "can I play this on my Switch?" or "how long is this game?" - this extension shows you at a glance. Platform icons appear next to each game showing whether it's on Nintendo Switch, PlayStation, or Xbox, plus a badge showing estimated completion time.

Click an icon to go directly to that platform's store page.

## How it works

1. Extracts game info from your Steam wishlist page
2. Queries Wikidata's SPARQL API for platform availability
3. Queries HowLongToBeat for completion time estimates
4. Caches results locally (7 days) so it's fast on repeat visits
5. Injects icons and completion time badges next to each game

The Wikidata and HLTB lookups happen in the background. There's a 500ms delay between requests to be nice to their servers.

## Icon states

**Console platforms (Switch/PlayStation/Xbox):**
- **Bright icon** = available, click to open store

**Steam Deck:**
- **Bright icon** = Verified (works great on Steam Deck)
- **Dimmed icon** = Playable (may need tweaks)

**How Long To Beat:**
- **Blue badge** (e.g., "12h") = estimated main story completion time
- Hover for details on main story, main + extras, and completionist times

## Install

1. Run `npm install && npm run build` to compile TypeScript
2. Go to `chrome://extensions/`
3. Turn on "Developer mode"
4. Click "Load unpacked"
5. Select this folder

## Project structure

```
src/               # TypeScript source
  content.ts       # DOM stuff, icon injection
  background.ts    # Service worker
  resolver.ts      # Orchestrates cache/Wikidata lookups
  wikidataClient.ts# SPARQL queries
  hltbClient.ts    # How Long To Beat queries
  cache.ts         # chrome.storage wrapper
  icons.ts         # SVG definitions
  types.ts         # Type definitions, store URL builders
  options.html/ts  # Settings page
  popup.html/ts    # Quick settings popup
  styles.css
dist/              # Compiled JavaScript (generated by esbuild)
tests/
assets/icons/
```

## Privacy

**Host permissions required:**
- `store.steampowered.com` - to inject icons on your wishlist page
- `query.wikidata.org` - to fetch platform availability data
- `howlongtobeat.com` - to fetch game completion time estimates
- `store.playstation.com` - to validate PlayStation store links
- `www.nintendo.com` - to validate Nintendo store links
- `www.xbox.com` - to validate Xbox store links

**Data handling:**
- Makes external API requests to Wikidata's SPARQL endpoint for platform lookups
- Makes external API requests to HowLongToBeat for completion time data
- Validates store links to ensure they work in your region (falls back to US search if unavailable)
- All cached data stays in chrome.storage.local (never sent anywhere)
- No analytics, tracking, or telemetry

## License

Apache 2.0
