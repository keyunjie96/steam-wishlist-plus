<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Steam Cross-Platform Wishlist - Options</title>
  <style>
    :root {
      /* Steam-inspired color palette */
      --bg-body: #1b2838;
      --bg-card: #16202d;
      --bg-card-light: #1e2c3a;
      --bg-input: #32404f;
      --bg-hover: rgba(255, 255, 255, 0.075);

      /* Improved contrast for readability */
      --text-primary: rgba(255, 255, 255, 0.92);
      --text-secondary: rgba(255, 255, 255, 0.68);
      --text-bright: #ffffff;
      --text-muted: rgba(255, 255, 255, 0.45);

      --border-color: rgba(255, 255, 255, 0.1);
      --border-subtle: rgba(255, 255, 255, 0.06);

      /* Unified accent - all switches use this */
      --accent: #4aa3ff;
      --accent-hover: #6bb5ff;
      --accent-soft: rgba(74, 163, 255, 0.15);

      /* Platform colors - icons only */
      --nintendo: #e60012;
      --playstation: #006fcd;
      --xbox: #107c10;
      --hltb: #4aa3ff;
      --review-scores: #ffcc33;

      /* Steam Deck special colors */
      --sd-tile-base: #343a43;
      --sd-arc: #ffffff;

      --success: #5ba32b;
      --danger: #c03030;

      /* Toggle grid dimensions */
      --icon-size: 40px;
      --col-gap: 12px;

      /* Card styling */
      --card-bg: rgba(255, 255, 255, 0.04);
      --card-border: rgba(255, 255, 255, 0.08);

      /* Gradients - Steam style */
      --gradient-button: linear-gradient(to right, #47bfff 0%, #1a9fff 100%);
      --gradient-button-hover: linear-gradient(to right, #5bc7ff 0%, #47bfff 100%);
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: "Motiva Sans", Arial, Helvetica, sans-serif;
      background: linear-gradient(to bottom, #1b2838 0%, #171a21 100%);
      background-attachment: fixed;
      color: var(--text-primary);
      line-height: 1.5;
      min-height: 100vh;
      padding: 24px;
    }

    .container {
      max-width: 600px;
      margin: 0 auto;
    }

    /* Header */
    .header {
      display: flex;
      align-items: center;
      gap: 16px;
      margin-bottom: 24px;
      padding-bottom: 16px;
      border-bottom: 1px solid var(--border-color);
    }

    .header-icon {
      width: 64px;
      height: 64px;
      border-radius: 8px;
      overflow: hidden;
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.4);
      flex-shrink: 0;
    }

    .header-icon img {
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .header-text h1 {
      font-size: 22px;
      font-weight: 300;
      color: var(--text-bright);
      letter-spacing: 0.5px;
    }

    .header-text .version {
      font-size: 12px;
      color: var(--text-muted);
      margin-top: 4px;
    }

    /* Sections */
    .section {
      background: var(--bg-card);
      border: 1px solid var(--border-subtle);
      border-radius: 8px;
      margin-bottom: 12px;
      overflow: hidden;
    }

    .section-header {
      padding: 10px 16px;
      background: rgba(0, 0, 0, 0.15);
      display: flex;
      align-items: center;
      justify-content: space-between;
      cursor: default;
    }

    .section-header h2 {
      font-size: 11px;
      font-weight: 600;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 1.2px;
      margin: 0;
    }

    /* Collapsible section button */
    .collapse-btn {
      width: 100%;
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: transparent;
      border: 0;
      padding: 0;
      color: inherit;
      cursor: pointer;
      font: inherit;
    }

    .collapse-btn:hover {
      background: rgba(0, 0, 0, 0.1);
    }

    .collapse-btn:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: -2px;
    }

    .collapse-icon {
      color: var(--text-muted);
      font-size: 10px;
      transition: transform 0.15s ease;
      opacity: 0.7;
    }

    .section:not(.collapsed) .collapse-icon {
      transform: rotate(90deg);
    }

    .section-body {
      padding: 14px 16px;
    }

    .section-desc {
      font-size: 13px;
      color: var(--text-secondary);
      margin-bottom: 12px;
    }

    /* Toggle list */
    .toggle-list {
      display: flex;
      flex-direction: column;
      gap: 6px;
    }

    .toggle-item {
      display: grid;
      grid-template-columns: var(--icon-size) 1fr auto;
      align-items: center;
      column-gap: var(--col-gap);
      padding: 14px 16px;
      border-radius: 8px;
      cursor: pointer;
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      transition: background 0.12s ease, border-color 0.12s ease, transform 0.08s ease;
    }

    .toggle-item:hover {
      background: var(--bg-hover);
      border-color: rgba(255, 255, 255, 0.14);
    }

    .toggle-item:has(input:focus-visible) {
      outline: 2px solid rgba(74, 163, 255, 0.65);
      outline-offset: 2px;
    }

    .toggle-item:focus-within {
      outline: 2px solid rgba(74, 163, 255, 0.65);
      outline-offset: 2px;
    }

    .toggle-item.active {
      background: var(--card-bg);
      border-color: rgba(74, 163, 255, 0.32);
      box-shadow: 0 0 0 2px rgba(74, 163, 255, 0.10);
    }

    /* Platform icon */
    .toggle-icon {
      width: var(--icon-size);
      height: var(--icon-size);
      border-radius: 6px;
      display: grid;
      place-items: center;
      background: var(--bg-input);
      transition: all 0.2s;
    }

    .toggle-icon svg {
      width: 22px;
      height: 22px;
      fill: currentColor;
      display: block;
      opacity: 0.8;
    }

    /* Steam Deck icon needs larger size to compensate for tall viewBox */
    .steamdeck-icon svg {
      width: 26px;
      height: 26px;
    }

    .toggle-item[data-platform="nintendo"] .toggle-icon { color: var(--nintendo); }
    .toggle-item[data-platform="playstation"] .toggle-icon { color: var(--playstation); }
    .toggle-item[data-platform="xbox"] .toggle-icon { color: var(--xbox); }
    .toggle-item[data-platform="hltb"] .toggle-icon { color: var(--hltb); }
    .toggle-item[data-platform="review-scores"] .toggle-icon { color: var(--review-scores); }

    /* Active icon tint for all platforms EXCEPT Steam Deck */
    .toggle-item.active:not([data-platform="steamdeck"]) .toggle-icon {
      background: currentColor;
    }

    .toggle-item.active:not([data-platform="steamdeck"]) .toggle-icon svg {
      fill: white;
      opacity: 1;
    }

    .toggle-item[data-platform="steamdeck"]:not(.active) .toggle-icon {
      opacity: 0.6;
      filter: saturate(0.7) brightness(0.9);
    }

    /* Dim all non-Steam Deck toggle icons when inactive */
    .toggle-item:not(.active):not([data-platform="steamdeck"]) .toggle-icon {
      opacity: 0.5;
      filter: saturate(0.5);
    }

    /* Steam Deck icon tile: dark premium grey with subtle gradient */
    .toggle-item[data-platform="steamdeck"] .toggle-icon {
      background:
        linear-gradient(180deg, rgba(255,255,255,.07), rgba(0,0,0,.22)),
        var(--sd-tile-base);
      border: 1px solid rgba(255, 255, 255, 0.10);
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.06);
    }

    /* Don't let generic rules paint the whole SVG white */
    .toggle-item[data-platform="steamdeck"] .toggle-icon svg {
      fill: none;
      opacity: 1;
    }

    /* SVG has 2 paths: 1) gradient circle 2) arc - make arc white */
    .toggle-item[data-platform="steamdeck"] .toggle-icon svg path:nth-of-type(2) {
      fill: var(--sd-arc);
    }

    .toggle-content {
      min-width: 0;
    }

    .toggle-label {
      font-size: 14px;
      font-weight: 500;
      color: var(--text-primary);
      letter-spacing: 0.01em;
    }

    .toggle-desc {
      font-size: 12px;
      color: var(--text-secondary);
      margin-top: 3px;
      line-height: 1.4;
    }

    /* Steam-style toggle switch */
    .toggle-switch {
      position: relative;
      width: 40px;
      height: 20px;
    }

    .toggle-switch input {
      opacity: 0;
      width: 0;
      height: 0;
    }

    .toggle-switch .slider {
      position: absolute;
      cursor: pointer;
      inset: 0;
      background: var(--bg-input);
      border-radius: 10px;
      transition: all 0.2s;
    }

    .toggle-switch .slider::before {
      position: absolute;
      content: "";
      height: 14px;
      width: 14px;
      left: 3px;
      top: 3px;
      background: rgba(255, 255, 255, 0.5);
      border-radius: 50%;
      transition: all 0.2s;
    }

    .toggle-switch input:checked + .slider {
      background: var(--accent);
    }

    .toggle-switch input:checked + .slider::before {
      transform: translateX(20px);
      background: white;
    }

    .toggle-switch input:focus-visible + .slider {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    /* All switches use unified accent color (platform colors stay on icons) */

    /* Toggle item with inline select (4-column grid) */
    .toggle-item.has-inline-option {
      grid-template-columns: var(--icon-size) 1fr 160px auto;
    }

    /* Inline select (same row as toggle) */
    .inline-select {
      grid-column: 3;
      width: 160px;
      padding: 6px 10px;
      background: var(--bg-input);
      border: 1px solid var(--border-color);
      border-radius: 8px;
      color: var(--text-primary);
      font-family: inherit;
      font-size: 12px;
      cursor: pointer;
      transition: border-color 0.15s;
      align-self: center;
      justify-self: end;
      margin-right: 8px;
    }

    .toggle-item.has-inline-option .toggle-switch {
      grid-column: 4;
      justify-self: end;
    }

    .toggle-item.has-inline-option.inline-select-hidden {
      grid-template-columns: var(--icon-size) 1fr auto;
    }

    .toggle-item.has-inline-option.inline-select-hidden .toggle-switch {
      grid-column: 3;
    }

    .inline-select[hidden] {
      display: none;
    }

    .inline-select:hover {
      border-color: var(--accent);
    }

    .inline-select:focus {
      outline: none;
      border-color: var(--accent);
    }

    /* Stats grid */
    .stats-grid {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 12px;
      margin-bottom: 16px;
    }

    .stat-box {
      background: var(--card-bg);
      border: 1px solid var(--card-border);
      border-radius: 8px;
      box-shadow: inset 0 1px 0 rgba(255, 255, 255, 0.05);
      padding: 16px;
      text-align: center;
    }

    .stat-value {
      font-size: 28px;
      font-weight: 300;
      color: var(--accent);
      line-height: 1;
      min-height: 1em;
      display: flex;
      align-items: center;
      justify-content: center;
      font-variant-numeric: tabular-nums;
    }

    .stat-label {
      font-size: 11px;
      color: var(--text-secondary);
      text-transform: uppercase;
      letter-spacing: 0.5px;
      margin-top: 4px;
    }

    /* Steam-style buttons */
    .button-row {
      display: grid;
      grid-template-columns: repeat(2, minmax(0, 1fr));
      gap: 12px;
    }

    button {
      font-family: inherit;
      font-size: 12px;
      font-weight: 500;
      padding: 10px 16px;
      border-radius: 8px;
      border: none;
      cursor: pointer;
      transition: all 0.15s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
      text-transform: uppercase;
      letter-spacing: 0.5px;
      width: 100%;
    }

    button:disabled {
      opacity: 0.5;
      cursor: not-allowed;
    }

    .btn-primary {
      background: var(--gradient-button);
      color: white;
    }

    .btn-primary:hover:not(:disabled) {
      background: var(--gradient-button-hover);
    }

    .btn-secondary {
      background: rgba(103, 193, 245, 0.2);
      color: #67c1f5;
    }

    .btn-secondary:hover:not(:disabled) {
      background: rgba(103, 193, 245, 0.3);
    }

    .btn-danger {
      background: rgba(192, 48, 48, 0.3);
      color: #e87070;
    }

    .btn-danger:hover:not(:disabled) {
      background: rgba(192, 48, 48, 0.5);
    }

    button svg {
      width: 16px;
      height: 16px;
      flex: 0 0 16px;
      display: block;
    }

    /* Status messages */
    .status {
      padding: 10px 12px;
      border-radius: 8px;
      margin-top: 12px;
      font-size: 13px;
      display: none;
    }

    .status.success {
      display: block;
      background: rgba(91, 163, 43, 0.2);
      color: #8bc34a;
      border-left: 3px solid var(--success);
    }

    .status.error {
      display: block;
      background: rgba(192, 48, 48, 0.2);
      color: #e87070;
      border-left: 3px solid var(--danger);
    }

    /* Info box */
    .info-box {
      background: var(--bg-input);
      border-radius: 8px;
      padding: 12px 14px;
      font-size: 13px;
      color: var(--text-secondary);
      border-left: 3px solid var(--accent);
    }

    .info-box strong {
      color: var(--text-bright);
      font-weight: 500;
    }

    .info-box a {
      color: var(--accent);
      text-decoration: none;
    }

    .info-box a:hover {
      text-decoration: underline;
    }

    .info-box ul {
      margin: 10px 0 0;
      padding-left: 18px;
    }

    .info-box li {
      padding: 2px 0;
    }

    /* Section divider */
    .section-divider {
      height: 1px;
      background: var(--border-subtle);
      margin: 8px 0;
    }

    /* Loading state */
    body.is-loading .section {
      opacity: 0.6;
    }

    .loading {
      display: inline-block;
      width: 14px;
      height: 14px;
      border: 2px solid var(--border-color);
      border-top-color: var(--accent);
      border-radius: 50%;
      animation: spin 0.7s linear infinite;
    }

    @keyframes spin {
      to { transform: rotate(360deg); }
    }

    /* Focus styles */
    button:focus-visible {
      outline: 2px solid var(--accent);
      outline-offset: 2px;
    }

    /* Reduced motion */
    @media (prefers-reduced-motion: reduce) {
      *, *::before, *::after {
        animation-duration: 0.01ms !important;
        transition-duration: 0.01ms !important;
      }
    }

    /* Responsive */
    @media (max-width: 480px) {
      body {
        padding: 16px;
      }

      .stats-grid {
        grid-template-columns: 1fr;
      }

      .button-row {
        grid-template-columns: 1fr;
      }

      .toggle-item.has-inline-option {
        grid-template-columns: var(--icon-size) 1fr auto;
        grid-template-rows: auto auto;
      }

      .toggle-item.has-inline-option .toggle-switch {
        grid-column: 3;
      }

      .toggle-item.has-inline-option .inline-select {
        grid-column: 2 / 4;
        grid-row: 2;
        width: 100%;
        margin: 8px 0 0;
      }
    }
  </style>
</head>
<body class="is-loading">
  <div class="container">
    <header class="header">
      <div class="header-icon">
        <img src="../assets/icons/icon128.png" alt="Extension icon">
      </div>
      <div class="header-text">
        <h1>Steam Cross-Platform Wishlist</h1>
        <div class="version">Version 0.7.1</div>
      </div>
    </header>

    <section class="section">
      <div class="section-header">
        <h2>Console Platforms</h2>
      </div>
      <div class="section-body">
        <p class="section-desc">Show game availability on other platforms</p>
        <div class="toggle-list">
          <label class="toggle-item" data-platform="nintendo">
            <div class="toggle-icon">
              <svg viewBox="0 0 32 32"><path d="M18.901 32h4.901c4.5 0 8.198-3.698 8.198-8.198v-15.604c0-4.5-3.698-8.198-8.198-8.198h-5c-0.099 0-0.203 0.099-0.203 0.198v31.604c0 0.099 0.099 0.198 0.302 0.198zM25 14.401c1.802 0 3.198 1.5 3.198 3.198 0 1.802-1.5 3.198-3.198 3.198-1.802 0-3.198-1.396-3.198-3.198-0.104-1.797 1.396-3.198 3.198-3.198zM15.198 0h-7c-4.5 0-8.198 3.698-8.198 8.198v15.604c0 4.5 3.698 8.198 8.198 8.198h7c0.099 0 0.203-0.099 0.203-0.198v-31.604c0-0.099-0.099-0.198-0.203-0.198zM12.901 29.401h-4.703c-3.099 0-5.599-2.5-5.599-5.599v-15.604c0-3.099 2.5-5.599 5.599-5.599h4.604zM5 9.599c0 1.698 1.302 3 3 3s3-1.302 3-3c0-1.698-1.302-3-3-3s-3 1.302-3 3z"/></svg>
            </div>
            <div class="toggle-content">
              <div class="toggle-label">Nintendo Switch</div>
              <div class="toggle-desc">Show eShop availability</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="show-nintendo">
              <span class="slider"></span>
            </div>
          </label>

          <label class="toggle-item" data-platform="playstation">
            <div class="toggle-icon">
              <svg viewBox="0 0 32 32"><path d="M3.262 24.248c-2.374-0.681-2.767-2.084-1.69-2.899 0.776-0.51 1.668-0.954 2.612-1.288l0.087-0.027 7.017-2.516v2.89l-5.030 1.839c-0.881 0.339-1.031 0.79-0.299 1.032 0.365 0.093 0.783 0.147 1.214 0.147 0.615 0 1.204-0.109 1.749-0.308l-0.035 0.011 2.422-0.882v2.592c-0.15 0.037-0.32 0.055-0.487 0.091-0.775 0.136-1.667 0.214-2.577 0.214-1.778 0-3.486-0.298-5.078-0.846l0.11 0.033zM18.049 24.544l7.868-2.843c0.893-0.322 1.032-0.781 0.307-1.022-0.363-0.089-0.779-0.14-1.208-0.14-0.622 0-1.22 0.108-1.774 0.305l0.037-0.011-5.255 1.874v-2.983l0.3-0.106c1.050-0.349 2.284-0.62 3.557-0.761l0.083-0.008c0.468-0.050 1.010-0.078 1.559-0.078 1.877 0 3.677 0.331 5.343 0.939l-0.108-0.035c2.309 0.751 2.549 1.839 1.969 2.589-0.559 0.557-1.235 0.998-1.988 1.282l-0.039 0.013-10.677 3.883v-2.869zM12.231 4.248v21.927l4.892 1.576v-18.39c0-0.862 0.38-1.438 0.992-1.238 0.795 0.225 0.95 1.017 0.95 1.881v7.342c3.050 1.491 5.451-0.003 5.451-3.939 0-4.045-1.407-5.842-5.546-7.282-1.785-0.648-4.040-1.294-6.347-1.805l-0.389-0.072z"/></svg>
            </div>
            <div class="toggle-content">
              <div class="toggle-label">PlayStation</div>
              <div class="toggle-desc">Show PS Store availability</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="show-playstation">
              <span class="slider"></span>
            </div>
          </label>

          <label class="toggle-item" data-platform="xbox">
            <div class="toggle-icon">
              <svg viewBox="0 0 32 32"><path d="M16 5.425c-1.888-1.125-4.106-1.922-6.473-2.249l-0.092-0.010c-0.070-0.005-0.152-0.008-0.234-0.008-0.613 0-1.188 0.16-1.687 0.441l0.017-0.009c2.357-1.634 5.277-2.61 8.426-2.61 0.008 0 0.016 0 0.024 0h0.019c0.005 0 0.011 0 0.018 0 3.157 0 6.086 0.976 8.501 2.642l-0.050-0.033c-0.478-0.272-1.051-0.433-1.662-0.433-0.085 0-0.169 0.003-0.252 0.009l0.011-0.001c-2.459 0.336-4.677 1.13-6.648 2.297l0.082-0.045zM5.554 5.268c-0.041 0.014-0.077 0.032-0.11 0.054l0.002-0.001c-2.758 2.723-4.466 6.504-4.466 10.684 0 3.584 1.256 6.875 3.353 9.457l-0.022-0.028c-1.754-3.261 4.48-12.455 7.61-16.159-3.53-3.521-5.277-4.062-6.015-4.062-0.010-0-0.021-0.001-0.032-0.001-0.115 0-0.225 0.021-0.326 0.060l0.006-0.002zM20.083 9.275c3.129 3.706 9.367 12.908 7.605 16.161 2.075-2.554 3.332-5.845 3.332-9.43 0-4.181-1.709-7.962-4.467-10.684l-0.002-0.002c-0.029-0.021-0.063-0.039-0.1-0.052l-0.003-0.001c-0.1-0.036-0.216-0.056-0.336-0.056-0.005 0-0.011 0-0.016 0h0.001c-0.741-0-2.485 0.543-6.014 4.063zM6.114 27.306c2.627 2.306 6.093 3.714 9.888 3.714s7.261-1.407 9.905-3.728l-0.017 0.015c2.349-2.393-5.402-10.901-9.89-14.29-4.483 3.39-12.24 11.897-9.886 14.29z"/></svg>
            </div>
            <div class="toggle-content">
              <div class="toggle-label">Xbox</div>
              <div class="toggle-desc">Show Xbox Store / Game Pass</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="show-xbox">
              <span class="slider"></span>
            </div>
          </label>
        </div>
      </div>
    </section>

    <section class="section">
      <div class="section-header">
        <h2>Steam Deck & Game Info</h2>
      </div>
      <div class="section-body">
        <p class="section-desc">Compatibility and playtime information</p>
        <div class="toggle-list">
          <label class="toggle-item" data-platform="steamdeck">
            <div class="toggle-icon steamdeck-icon">
              <svg viewBox="0 0 600.75 799.79">
                <defs>
                  <linearGradient id="sd-gradient" gradientUnits="userSpaceOnUse" x1="-154.087" x2="316.283" y1="274.041" y2="501.116">
                    <stop offset=".107" stop-color="#c957e6"/>
                    <stop offset="1" stop-color="#1a9fff"/>
                  </linearGradient>
                </defs>
                <path d="M200.25 600.27C89.51 600.27 0 510.89 0 400.32s89.51-199.95 200.25-199.95 200.26 89.38 200.26 199.95-89.52 199.95-200.26 199.95z" fill="url(#sd-gradient)"/>
                <path d="M456.98 399.89c0-141.57-114.95-256.34-256.74-256.34V0c221.2 0 400.51 179.04 400.51 399.89 0 220.86-179.31 399.9-400.51 399.9V656.24c141.79 0 256.74-114.77 256.74-256.35z" fill="#ffffff"/>
              </svg>
            </div>
            <div class="toggle-content">
              <div class="toggle-label">Steam Deck Compatibility</div>
              <div class="toggle-desc">Show Verified / Playable status</div>
            </div>
            <div class="toggle-switch">
              <input type="checkbox" id="show-steamdeck">
              <span class="slider"></span>
            </div>
          </label>

          <div class="section-divider"></div>

          <div class="toggle-item has-inline-option" data-platform="hltb">
            <label class="toggle-icon" for="show-hltb">
              <svg viewBox="0 0 24 24"><path d="M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm.5-13H11v6l5.25 3.15.75-1.23-4.5-2.67V7z"/></svg>
            </label>
            <label class="toggle-content" for="show-hltb">
              <div class="toggle-label">How Long To Beat</div>
              <div class="toggle-desc">Show completion time estimates</div>
            </label>
            <select class="inline-select" id="hltb-display-stat" hidden>
              <option value="mainStory">Main Story</option>
              <option value="mainExtra">Main + Extras</option>
              <option value="completionist">Completionist</option>
            </select>
            <label class="toggle-switch">
              <input type="checkbox" id="show-hltb">
              <span class="slider"></span>
            </label>
          </div>

          <div class="toggle-item has-inline-option" data-platform="review-scores">
            <label class="toggle-icon review-scores-icon" for="show-review-scores">
              <svg viewBox="0 0 24 24"><path d="M12 17.27L18.18 21l-1.64-7.03L22 9.24l-7.19-.61L12 2 9.19 8.63 2 9.24l5.46 4.73L5.82 21z"/></svg>
            </label>
            <label class="toggle-content" for="show-review-scores">
              <div class="toggle-label">Review Scores</div>
              <div class="toggle-desc">Show game ratings from critics</div>
            </label>
            <select class="inline-select" id="review-score-source" hidden>
              <option value="opencritic">OpenCritic</option>
              <option value="ign">IGN</option>
              <option value="gamespot">GameSpot</option>
            </select>
            <label class="toggle-switch">
              <input type="checkbox" id="show-review-scores">
              <span class="slider"></span>
            </label>
          </div>
        </div>
        <div id="settings-status" class="status"></div>
      </div>
    </section>

    <section class="section">
      <div class="section-header">
        <h2>Cache</h2>
      </div>
      <div class="section-body">
        <div class="stats-grid">
          <div class="stat-box">
            <div class="stat-value" id="cache-count">-</div>
            <div class="stat-label">Games Cached</div>
          </div>
          <div class="stat-box">
            <div class="stat-value" id="cache-age">-</div>
            <div class="stat-label">Oldest Entry</div>
          </div>
        </div>
        <div class="button-row">
          <button type="button" class="btn-secondary" id="refresh-stats-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <path d="M23 4v6h-6"/>
              <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
            </svg>
            Refresh
          </button>
          <button type="button" class="btn-danger" id="clear-cache-btn">
            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2.5">
              <polyline points="3 6 5 6 21 6"/>
              <path d="M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6m3 0V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2"/>
            </svg>
            Clear Cache
          </button>
        </div>
        <div id="cache-status" class="status" aria-live="polite"></div>
      </div>
    </section>

    <section class="section collapsed" data-collapsible>
      <div class="section-header">
        <button type="button" class="collapse-btn" aria-expanded="false" aria-controls="privacy-body">
          <h2>Privacy</h2>
          <span class="collapse-icon" aria-hidden="true">▶</span>
        </button>
      </div>
      <div class="section-body" id="privacy-body" hidden>
        <div class="info-box">
          <strong>Your data stays local</strong>
          <ul>
            <li>Only connects to Steam, Wikidata, HLTB, and OpenCritic</li>
            <li>Wishlist data never leaves your browser</li>
            <li>All cache stored locally in Chrome</li>
            <li>Zero analytics or telemetry</li>
          </ul>
        </div>
      </div>
    </section>

    <section class="section collapsed" data-collapsible>
      <div class="section-header">
        <button type="button" class="collapse-btn" aria-expanded="false" aria-controls="sources-body">
          <h2>Data Sources</h2>
          <span class="collapse-icon" aria-hidden="true">▶</span>
        </button>
      </div>
      <div class="section-body" id="sources-body" hidden>
        <div class="info-box">
          <strong>Powered by open data</strong>
          <p style="margin-top: 6px;">
            Platform data from <a href="https://www.wikidata.org" target="_blank" rel="noopener">Wikidata</a> (community-maintained).
            Steam Deck status from Steam's official data.
            Playtime from <a href="https://howlongtobeat.com" target="_blank" rel="noopener">HowLongToBeat</a>.
            Review scores from <a href="https://opencritic.com" target="_blank" rel="noopener">OpenCritic</a>.
          </p>
        </div>
      </div>
    </section>
  </div>

  <script src="../dist/types.js"></script>
  <script src="../dist/options.js"></script>
</body>
</html>
